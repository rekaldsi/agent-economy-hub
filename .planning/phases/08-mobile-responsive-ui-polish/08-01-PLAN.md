# Phase 8 Plan 1: Mobile Responsive & UI Polish

<objective>
Make the Agent Economy Hub fully mobile-responsive and polish the user interface with loading states, toast notifications, improved button states, and consistent design. This phase ensures the marketplace works beautifully on all screen sizes and provides excellent user experience through visual feedback.
</objective>

<execution_context>
## What We're Building

**Core Feature**: Mobile-responsive UI with polished user experience

**Current State** (from Phase 7):
- ‚úÖ Desktop-optimized layout
- ‚úÖ Dark theme with CSS variables
- ‚úÖ Clean typography (Inter font)
- ‚ùå NO mobile responsiveness (no @media queries)
- ‚ùå NO loading spinners during async operations
- ‚ùå NO success/error notifications
- ‚ùå Button states don't show loading
- ‚ùå Inconsistent spacing on different pages
- ‚ùå Some UI elements overflow on small screens

**Current CSS** (src/hub.js:106-320):
- HUB_STYLES: ~215 lines of desktop-only CSS
- Grid layouts: `repeat(auto-fill, minmax(350px, 1fr))` - breaks on mobile
- Fixed font sizes: No scaling for mobile
- No responsive header/navigation
- Hero section: `font-size: 3rem` - too large for mobile

**Target State**:
- Responsive layouts (mobile-first approach)
- CSS media queries for tablet (768px) and mobile (480px) breakpoints
- Loading spinners during: wallet connect, payment, job creation
- Toast notifications for success/error
- Button states (loading, disabled, success)
- Hamburger menu for mobile navigation
- Touch-friendly tap targets (min 44x44px)
- Consistent spacing across all pages

**Why This Matters**: Mobile users are ~60% of web traffic. A poor mobile experience = lost users.
</execution_context>

<context>
## Project Context

**Tech Stack**:
- Frontend: Server-rendered HTML (no React/Vue)
- CSS: Vanilla CSS with CSS variables (no frameworks like Tailwind)
- JavaScript: Vanilla JS for interactions
- No build process (direct HTML/CSS/JS)

**Responsive Design Breakpoints**:
- **Desktop**: 1200px+ (current design)
- **Tablet**: 768px - 1199px (need to add)
- **Mobile**: 320px - 767px (need to add)

**Pages to Make Responsive**:
1. **Home** (GET /) - hero, stats, agent grid
2. **Agents List** (GET /agents) - agent cards grid
3. **Agent Detail** (GET /agent/:id) - agent profile, skills list
4. **Dashboard** (GET /dashboard) - jobs list, filters
5. **Job Detail** (GET /job/:uuid) - job info, results, payment
6. **Register** (GET /register) - form, instructions

**Key UI Elements**:
- Header/Navigation (sticky)
- Hero section (landing page)
- Agent cards grid (home, agents list)
- Skills list (agent detail)
- Job cards (dashboard)
- Forms (job creation, agent registration)
- Modals (job creation modal)
- Buttons (various states)

**Current Issues on Mobile** (discovered via inspection):
1. Hero h1 (3rem) too large
2. Grid layouts (minmax(350px, 1fr)) break on <350px screens
3. Navigation links horizontal - needs hamburger menu
4. Stats section (flex, gap: 48px) - too wide
5. Agent cards (padding: 24px) - too much padding on mobile
6. No touch-friendly targets
7. Fixed widths break responsive flow

## Recent Work (Phases 1-7)

**Phase 5**: Results Display & Formatting
- Added loading states basics (auto-refresh for paid jobs)
- Status indicators with icons
- Empty states with messaging
- Need to enhance with spinners

**Phase 7**: Input Validation & Error Handling
- User-friendly error messages
- Consistent error format
- Need toast notifications for these errors

**Unblocked By Phase 7**:
- Error messages ready to show in toasts
- Validation provides clear user feedback
- Can now add UI layer for these messages

## Success Criteria

### Functional
- [ ] All pages work on mobile (320px+), tablet (768px+), desktop (1200px+)
- [ ] Touch targets min 44x44px
- [ ] No horizontal scrolling on any screen size
- [ ] Hamburger menu for mobile navigation
- [ ] Loading spinners during async operations
- [ ] Toast notifications for success/error
- [ ] Button states (loading, disabled, success)

### Visual
- [ ] Typography scales appropriately
- [ ] Images/avatars responsive
- [ ] Grids stack properly on mobile
- [ ] Consistent spacing across pages
- [ ] Smooth transitions/animations
- [ ] No layout shift during loading

### User Experience
- [ ] Fast perceived performance (loading indicators)
- [ ] Clear feedback for all actions
- [ ] No confusion about app state
- [ ] Works well with touch gestures
- [ ] Accessible (keyboard navigation, ARIA labels)

### Technical
- [ ] CSS media queries implemented
- [ ] No external CSS frameworks added
- [ ] No breaking changes to existing functionality
- [ ] Performant (no heavy animations)
</context>

<tasks>

## Task 1: Add Mobile Responsive CSS with Media Queries

**Objective**: Make all layouts mobile-responsive with CSS media queries

**Why First**: Foundation for all other UI improvements

**Implementation**:

**File**: `src/hub.js` (HUB_STYLES section)

**Add Media Queries** (at end of HUB_STYLES, before closing backtick):
```css
/* ============================================
   RESPONSIVE - TABLET (768px - 1199px)
   ============================================ */
@media (max-width: 1199px) {
  .container { padding: 20px; }

  .hero {
    padding: 60px 20px;
  }

  .hero h1 {
    font-size: 2.5rem;
  }

  .agents-grid {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
  }

  .stats {
    gap: 32px;
  }
}

/* ============================================
   RESPONSIVE - MOBILE (320px - 767px)
   ============================================ */
@media (max-width: 767px) {
  .container {
    padding: 16px;
    max-width: 100%;
  }

  /* Header */
  header {
    padding: 12px 16px;
    flex-wrap: wrap;
  }

  .logo {
    font-size: 1.1rem;
    gap: 8px;
  }

  .logo-icon { font-size: 1.3rem; }

  /* Navigation - Hamburger Menu */
  nav {
    display: none; /* Hide by default on mobile */
    position: fixed;
    top: 60px;
    left: 0;
    right: 0;
    background: var(--bg-card);
    border-bottom: 1px solid var(--border);
    flex-direction: column;
    gap: 0;
    padding: 16px;
    z-index: 40;
  }

  nav.mobile-menu-open {
    display: flex;
  }

  nav a {
    padding: 12px 16px;
    display: block;
    border-bottom: 1px solid var(--border);
  }

  .mobile-menu-toggle {
    display: block;
    background: none;
    border: none;
    color: var(--text);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 8px;
  }

  /* Hero */
  .hero {
    padding: 48px 16px;
  }

  .hero h1 {
    font-size: 2rem;
    line-height: 1.2;
  }

  .hero p {
    font-size: 1rem;
    margin-bottom: 24px;
  }

  /* Stats - Stack Vertically */
  .stats {
    flex-direction: column;
    gap: 24px;
  }

  .stat-value { font-size: 1.75rem; }

  /* Grids - Single Column */
  .agents-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .agent-card {
    padding: 20px;
  }

  .agent-avatar {
    width: 48px;
    height: 48px;
    font-size: 1.25rem;
  }

  /* Skills */
  .skills-list {
    gap: 6px;
  }

  .skill-tag {
    font-size: 0.75rem;
    padding: 5px 10px;
  }

  /* Buttons - Full Width on Mobile */
  .btn {
    width: 100%;
    padding: 12px 20px;
    font-size: 1rem;
  }

  .btn-group {
    flex-direction: column;
    gap: 12px;
  }

  .btn-group .btn {
    width: 100%;
  }

  /* Wallet Section */
  .wallet-section {
    padding: 16px;
  }

  .wallet-connected {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

  .wallet-address {
    font-size: 0.75rem;
    word-break: break-all;
  }

  /* Forms */
  input, select, textarea {
    font-size: 16px; /* Prevents iOS zoom on focus */
  }

  /* Touch Targets - Min 44x44px */
  a, button, input[type="submit"], input[type="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Extra Small Devices */
@media (max-width: 479px) {
  .hero h1 {
    font-size: 1.75rem;
  }

  .agent-card {
    padding: 16px;
  }

  .section-title {
    font-size: 1.25rem;
  }
}
```

**Add Mobile Menu Toggle Button** (in HTML header):
```html
<header>
  <a href="/" class="logo">
    <span class="logo-icon">ü¶û</span>
    <span>Agent Economy</span>
  </a>
  <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Menu">
    ‚ò∞
  </button>
  <nav id="mobile-nav">
    <a href="/agents">Agents</a>
    <a href="/dashboard">Dashboard</a>
    <a href="/register">Register Agent</a>
  </nav>
</header>
```

**Hide Mobile Menu Toggle on Desktop**:
```css
.mobile-menu-toggle {
  display: none; /* Hide on desktop */
}

@media (max-width: 767px) {
  .mobile-menu-toggle {
    display: block;
  }
}
```

**Verification**:
- Test on Chrome DevTools mobile emulation
- Check 320px, 375px, 768px, 1024px, 1200px widths
- No horizontal scrolling
- All text readable
- Touch targets adequate

**Deliverable**:
- Responsive CSS media queries added
- Mobile menu toggle button
- All pages responsive

**Commit**: `feat(08-01): add mobile responsive CSS with media queries`

---

## Task 2: Add Loading Spinners and States

**Objective**: Show loading spinners during async operations (wallet connect, payment, job creation)

**Why Second**: User feedback during network operations

**Implementation**:

**File**: `src/hub.js` (HUB_STYLES section)

**Add Spinner CSS** (in HUB_STYLES):
```css
/* ============================================
   LOADING SPINNERS
   ============================================ */
.spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid var(--border);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.spinner-lg {
  width: 40px;
  height: 40px;
  border-width: 4px;
}

.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(9, 9, 11, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 16px;
  z-index: 9999;
}

.loading-overlay .spinner {
  width: 48px;
  height: 48px;
  border-width: 4px;
}

.loading-text {
  color: var(--text-muted);
  font-size: 1rem;
}

/* Button Loading State */
.btn.loading {
  position: relative;
  pointer-events: none;
  opacity: 0.7;
}

.btn.loading::after {
  content: '';
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
```

**Add Loading Functions** (HUB_SCRIPTS section):
```javascript
// Loading overlay functions
function showLoading(message = 'Processing...') {
  const overlay = document.createElement('div');
  overlay.className = 'loading-overlay';
  overlay.id = 'loading-overlay';
  overlay.innerHTML = `
    <div class="spinner"></div>
    <div class="loading-text">${message}</div>
  `;
  document.body.appendChild(overlay);
}

function hideLoading() {
  const overlay = document.getElementById('loading-overlay');
  if (overlay) {
    overlay.remove();
  }
}

// Button loading state
function setButtonLoading(button, loading, originalText) {
  if (loading) {
    button.classList.add('loading');
    button.disabled = true;
    button.dataset.originalText = originalText || button.textContent;
    button.textContent = 'Loading...';
  } else {
    button.classList.remove('loading');
    button.disabled = false;
    button.textContent = button.dataset.originalText || originalText;
  }
}
```

**Apply Loading States** (update existing functions):

**Wallet Connect**:
```javascript
async function connectWallet() {
  const btn = document.getElementById('connect-wallet-btn');
  setButtonLoading(btn, true);

  try {
    // ... existing wallet connection code ...
  } catch (error) {
    console.error('Wallet connection error:', error);
    showToast('Failed to connect wallet', 'error');
  } finally {
    setButtonLoading(btn, false, 'Connect Wallet');
  }
}
```

**Job Creation**:
```javascript
async function createJob() {
  showLoading('Creating job...');

  try {
    // ... existing job creation code ...
  } catch (error) {
    showToast('Failed to create job', 'error');
  } finally {
    hideLoading();
  }
}
```

**Payment**:
```javascript
async function payForJob() {
  showLoading('Processing payment...');

  try {
    // ... existing payment code ...
    showToast('Payment successful!', 'success');
  } catch (error) {
    showToast('Payment failed', 'error');
  } finally {
    hideLoading();
  }
}
```

**Verification**:
- Spinner shows during async operations
- Button states update correctly
- Loading overlay blocks interaction
- Clear loading messages

**Deliverable**:
- Spinner CSS and animations
- Loading overlay component
- Button loading states
- Applied to all async operations

**Commit**: `feat(08-01): add loading spinners and button states`

---

## Task 3: Add Toast Notification System

**Objective**: Show success/error toast notifications for user actions

**Why Third**: User feedback for actions (success/error messages)

**Implementation**:

**File**: `src/hub.js` (HUB_STYLES section)

**Add Toast CSS**:
```css
/* ============================================
   TOAST NOTIFICATIONS
   ============================================ */
.toast-container {
  position: fixed;
  top: 80px;
  right: 24px;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 400px;
}

@media (max-width: 767px) {
  .toast-container {
    top: 70px;
    right: 16px;
    left: 16px;
    max-width: none;
  }
}

.toast {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-left-width: 4px;
  border-radius: 8px;
  padding: 16px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: start;
  gap: 12px;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(400px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast.success {
  border-left-color: var(--green);
}

.toast.error {
  border-left-color: #ef4444;
}

.toast.info {
  border-left-color: var(--blue);
}

.toast-icon {
  font-size: 1.25rem;
  flex-shrink: 0;
}

.toast-content {
  flex: 1;
}

.toast-title {
  font-weight: 600;
  margin-bottom: 4px;
}

.toast-message {
  font-size: 0.9rem;
  color: var(--text-muted);
}

.toast-close {
  background: none;
  border: none;
  color: var(--text-muted);
  font-size: 1.25rem;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}

.toast-close:hover {
  color: var(--text);
}
```

**Add Toast Functions** (HUB_SCRIPTS section):
```javascript
// Toast notification system
function showToast(message, type = 'info', title = null, duration = 5000) {
  // Create container if doesn't exist
  let container = document.getElementById('toast-container');
  if (!container) {
    container = document.createElement('div');
    container.id = 'toast-container';
    container.className = 'toast-container';
    document.body.appendChild(container);
  }

  // Icon mapping
  const icons = {
    success: '‚úì',
    error: '‚úï',
    info: '‚Ñπ'
  };

  // Title mapping
  const titles = {
    success: title || 'Success',
    error: title || 'Error',
    info: title || 'Info'
  };

  // Create toast
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  toast.innerHTML = `
    <div class="toast-icon">${icons[type] || icons.info}</div>
    <div class="toast-content">
      <div class="toast-title">${titles[type]}</div>
      <div class="toast-message">${message}</div>
    </div>
    <button class="toast-close" onclick="this.parentElement.remove()">√ó</button>
  `;

  container.appendChild(toast);

  // Auto-remove after duration
  if (duration > 0) {
    setTimeout(() => {
      toast.style.animation = 'slideIn 0.3s ease-out reverse';
      setTimeout(() => toast.remove(), 300);
    }, duration);
  }

  return toast;
}
```

**Apply Toasts** (replace alert() calls):

**Success Cases**:
```javascript
// After successful payment
showToast('Payment verified successfully! Job processing started.', 'success');

// After job creation
showToast('Job created successfully!', 'success');

// After agent registration
showToast('Agent registered successfully!', 'success');
```

**Error Cases**:
```javascript
// Payment failed
showToast('Payment verification failed. Please check transaction and try again.', 'error');

// Wallet connection failed
showToast('Failed to connect wallet. Please install MetaMask.', 'error');

// Job creation failed
showToast(error.message || 'Failed to create job', 'error');
```

**Info Cases**:
```javascript
// Network switching
showToast('Please switch to Base network', 'info');

// Insufficient balance
showToast('Insufficient USDC balance. Please add funds.', 'info');
```

**Verification**:
- Toasts appear on success/error
- Auto-dismiss after 5 seconds
- Manual close button works
- Multiple toasts stack properly
- Responsive on mobile

**Deliverable**:
- Toast notification system
- CSS animations (slide in/out)
- Applied to all user actions
- Replaced alert() calls with toasts

**Commit**: `feat(08-01): add toast notification system`

---

## Task 4: Improve Button States and Interactions

**Objective**: Better button states (loading, disabled, success, hover effects)

**Why Fourth**: Clear visual feedback for button interactions

**Implementation**:

**File**: `src/hub.js` (HUB_STYLES section)

**Enhanced Button CSS**:
```css
/* ============================================
   ENHANCED BUTTON STATES
   ============================================ */
.btn {
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  border: none;
  transition: all 0.2s;
  position: relative;
  overflow: hidden;
}

/* Hover Effects */
.btn:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
}

.btn:active:not(:disabled) {
  transform: translateY(0);
}

/* Primary Button */
.btn-primary {
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
  color: white;
}

.btn-primary:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--accent-light) 0%, var(--accent) 100%);
}

/* Secondary Button */
.btn-secondary {
  background: var(--bg-input);
  color: var(--text);
  border: 1px solid var(--border);
}

.btn-secondary:hover:not(:disabled) {
  border-color: var(--accent);
  background: var(--bg-card);
}

/* Success Button (after action completed) */
.btn-success {
  background: var(--green);
  color: white;
}

.btn-success::before {
  content: '‚úì ';
}

/* Disabled State */
.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* Loading State (already added in Task 2, ensure consistency) */
.btn.loading {
  pointer-events: none;
  opacity: 0.8;
}

/* Button Group */
.btn-group {
  display: flex;
  gap: 12px;
  align-items: center;
}

/* Icon Buttons */
.btn-icon {
  padding: 10px;
  min-width: 44px;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Small Buttons */
.btn-sm {
  padding: 8px 16px;
  font-size: 0.85rem;
}

/* Large Buttons */
.btn-lg {
  padding: 14px 28px;
  font-size: 1.05rem;
}

/* Focus Styles (Accessibility) */
.btn:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Ripple Effect on Click */
.btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn:active::after {
  width: 300px;
  height: 300px;
}
```

**Add Button Helper Functions** (HUB_SCRIPTS):
```javascript
// Set button to success state
function setButtonSuccess(button, text = 'Success!', duration = 2000) {
  const originalText = button.textContent;
  const originalClass = button.className;

  button.className = 'btn btn-success';
  button.textContent = text;
  button.disabled = true;

  setTimeout(() => {
    button.className = originalClass;
    button.textContent = originalText;
    button.disabled = false;
  }, duration);
}

// Disable button
function disableButton(button, reason) {
  button.disabled = true;
  button.title = reason;
}

// Enable button
function enableButton(button) {
  button.disabled = false;
  button.title = '';
}
```

**Apply Enhanced States**:

**Payment Button**:
```javascript
async function payForJob() {
  const btn = document.getElementById('pay-button');
  setButtonLoading(btn, true);

  try {
    // ... payment logic ...
    setButtonSuccess(btn, '‚úì Payment Sent');
    showToast('Payment successful!', 'success');
  } catch (error) {
    setButtonLoading(btn, false, 'Pay Now');
    showToast(error.message, 'error');
  }
}
```

**Submit Job Button**:
```javascript
async function submitJob() {
  const btn = document.getElementById('submit-job-btn');
  setButtonLoading(btn, true);

  try {
    // ... submission logic ...
    setButtonSuccess(btn, '‚úì Job Created');
  } catch (error) {
    setButtonLoading(btn, false, 'Create Job');
  }
}
```

**Verification**:
- Hover effects work smoothly
- Loading state shows spinner
- Success state shows checkmark
- Disabled state prevents clicks
- Focus styles visible for keyboard navigation
- Ripple effect on click

**Deliverable**:
- Enhanced button CSS with states
- Helper functions for state management
- Applied to all action buttons
- Accessibility improvements (focus styles)

**Commit**: `feat(08-01): improve button states and interactions`

---

## Task 5: Polish Spacing, Typography, and Consistency

**Objective**: Ensure consistent spacing, typography, and visual hierarchy across all pages

**Why Fifth**: Professional polish, cohesive design

**Implementation**:

**File**: `src/hub.js` (HUB_STYLES section)

**Typography System**:
```css
/* ============================================
   TYPOGRAPHY SYSTEM
   ============================================ */
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 0.5em;
}

h1 { font-size: 2.5rem; }
h2 { font-size: 2rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }
h5 { font-size: 1.1rem; }
h6 { font-size: 1rem; }

p {
  line-height: 1.6;
  margin-bottom: 1em;
}

/* Responsive Typography */
@media (max-width: 767px) {
  h1 { font-size: 2rem; }
  h2 { font-size: 1.75rem; }
  h3 { font-size: 1.25rem; }
  h4 { font-size: 1.1rem; }

  body {
    font-size: 15px;
  }
}
```

**Spacing System**:
```css
/* ============================================
   SPACING SYSTEM
   ============================================ */
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }
.mb-4 { margin-bottom: 32px; }
.mb-5 { margin-bottom: 48px; }

.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }
.mt-4 { margin-top: 32px; }
.mt-5 { margin-top: 48px; }

.p-1 { padding: 8px; }
.p-2 { padding: 16px; }
.p-3 { padding: 24px; }
.p-4 { padding: 32px; }

.gap-1 { gap: 8px; }
.gap-2 { gap: 16px; }
.gap-3 { gap: 24px; }
```

**Consistent Card Styling**:
```css
/* Card Components - Consistent Across Pages */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  transition: all 0.2s;
}

.card:hover {
  border-color: var(--accent);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(249, 115, 22, 0.2);
}

.card-header {
  margin-bottom: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border);
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0;
}

.card-subtitle {
  color: var(--text-muted);
  font-size: 0.9rem;
  margin-top: 4px;
}

.card-body {
  /* Content goes here */
}

.card-footer {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--border);
}

@media (max-width: 767px) {
  .card {
    padding: 16px;
    border-radius: 8px;
  }
}
```

**Consistent Form Styling**:
```css
/* Form Elements - Consistent Styling */
label {
  display: block;
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--text);
  margin-bottom: 8px;
}

input, select, textarea {
  width: 100%;
  padding: 12px 16px;
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-size: 0.95rem;
  font-family: inherit;
  transition: all 0.2s;
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
}

input::placeholder, textarea::placeholder {
  color: var(--text-muted);
  opacity: 0.6;
}

textarea {
  resize: vertical;
  min-height: 100px;
}

.form-group {
  margin-bottom: 20px;
}

.form-help {
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-top: 4px;
}

.form-error {
  font-size: 0.85rem;
  color: #ef4444;
  margin-top: 4px;
}
```

**Update All Pages** (apply consistent classes):
- Add .card to agent cards, job cards
- Add .form-group to form fields
- Add spacing utility classes
- Ensure consistent padding/margins

**Verification**:
- Typography scales properly
- Spacing consistent across pages
- Cards look uniform
- Forms styled consistently
- Visual hierarchy clear

**Deliverable**:
- Typography system
- Spacing utility classes
- Consistent card/form styling
- Applied across all pages

**Commit**: `feat(08-01): polish spacing, typography, and consistency`

---

## Task 6: Add Smooth Transitions and Final Polish

**Objective**: Add smooth transitions, animations, and final UI polish touches

**Why Sixth**: Professional feel, delightful interactions

**Implementation**:

**File**: `src/hub.js` (HUB_STYLES section)

**Smooth Transitions**:
```css
/* ============================================
   TRANSITIONS & ANIMATIONS
   ============================================ */

/* Global Smooth Transitions */
* {
  transition: background-color 0.2s ease,
              color 0.2s ease,
              border-color 0.2s ease;
}

/* Fade In Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.4s ease-out;
}

/* Slide In Animation */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-in {
  animation: slideInUp 0.5s ease-out;
}

/* Pulse Animation (for status indicators) */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Scale on Hover (for interactive elements) */
.scale-on-hover {
  transition: transform 0.2s ease;
}

.scale-on-hover:hover {
  transform: scale(1.05);
}

/* Smooth Scroll */
html {
  scroll-behavior: smooth;
}

/* Focus Animations */
@keyframes focusRing {
  0% {
    box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.5);
  }
  100% {
    box-shadow: 0 0 0 4px rgba(249, 115, 22, 0);
  }
}

*:focus-visible {
  animation: focusRing 0.6s ease-out;
}
```

**Add Stagger Animation for Lists** (HUB_SCRIPTS):
```javascript
// Animate elements with stagger effect
function animateList(selector, delay = 50) {
  const elements = document.querySelectorAll(selector);
  elements.forEach((el, index) => {
    el.style.animationDelay = `${index * delay}ms`;
    el.classList.add('fade-in');
  });
}

// Apply on page load
document.addEventListener('DOMContentLoaded', () => {
  // Animate agent cards
  animateList('.agent-card', 100);

  // Animate skill tags
  animateList('.skill-tag', 30);

  // Animate job cards
  animateList('.job-card', 80);
});
```

**Skeleton Loading States**:
```css
/* Skeleton Loading (for slow-loading content) */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--bg-input) 25%,
    var(--bg-card) 50%,
    var(--bg-input) 75%
  );
  background-size: 200% 100%;
  animation: loading 1.5s ease-in-out infinite;
  border-radius: 4px;
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.skeleton-text {
  height: 16px;
  margin-bottom: 8px;
}

.skeleton-title {
  height: 24px;
  width: 60%;
  margin-bottom: 12px;
}

.skeleton-avatar {
  width: 56px;
  height: 56px;
  border-radius: 12px;
}
```

**Modal Transitions**:
```css
/* Modal Animations */
.modal {
  animation: modalFadeIn 0.3s ease-out;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modal-content {
  animation: modalSlideUp 0.3s ease-out;
}

@keyframes modalSlideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
```

**Apply Animations**:
- Add .fade-in to page content on load
- Add .scale-on-hover to agent cards
- Add skeleton loaders during data fetch
- Smooth modal open/close

**Accessibility Improvements**:
```css
/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Skip to main content link (accessibility) */
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--accent);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10001;
}

.skip-to-main:focus {
  top: 0;
}
```

**Verification**:
- Animations smooth and performant
- No jank or stuttering
- Stagger effect on lists looks good
- Respects reduced motion preferences
- Skeleton loaders show during loading

**Deliverable**:
- Smooth transitions throughout
- Fade-in animations for content
- Stagger animations for lists
- Skeleton loading states
- Accessibility improvements (reduced motion)

**Commit**: `feat(08-01): add smooth transitions and final UI polish`

---

</tasks>

<verification>

## Pre-Execution Checklist

Before starting implementation:
- [ ] Phase 7 complete (validation & error handling working)
- [ ] Current UI desktop-optimized
- [ ] No existing mobile responsiveness
- [ ] Chrome DevTools available for mobile testing

## Post-Task Checkpoints

### After Task 1 (Mobile Responsive CSS)
- [ ] Media queries added for 768px and 480px breakpoints
- [ ] All pages responsive (home, agents, dashboard, job detail)
- [ ] Hamburger menu on mobile
- [ ] No horizontal scrolling
- [ ] Touch targets min 44x44px

### After Task 2 (Loading Spinners)
- [ ] Spinner CSS and animations
- [ ] Loading overlay component
- [ ] Button loading states
- [ ] Applied to wallet connect, payment, job creation

### After Task 3 (Toast Notifications)
- [ ] Toast CSS with slide-in animation
- [ ] showToast() function works
- [ ] Success/error/info variants
- [ ] Auto-dismiss after 5 seconds
- [ ] Replaced alert() calls

### After Task 4 (Button States)
- [ ] Enhanced button hover effects
- [ ] Loading state with spinner
- [ ] Success state with checkmark
- [ ] Disabled state prevents interaction
- [ ] Focus styles for accessibility

### After Task 5 (Spacing & Typography)
- [ ] Typography system implemented
- [ ] Spacing utility classes
- [ ] Consistent card styling
- [ ] Consistent form styling
- [ ] Applied across all pages

### After Task 6 (Transitions & Polish)
- [ ] Smooth transitions on interactive elements
- [ ] Fade-in animations for content
- [ ] Stagger animations for lists
- [ ] Skeleton loading states
- [ ] Respects reduced motion preference

## Final Verification Commands

```bash
# 1. Server starts successfully
npm start
# Expected: "Agent Economy Hub v0.9.0"

# 2. Test mobile responsiveness
# Chrome DevTools ‚Üí Toggle device toolbar ‚Üí Test:
# - iPhone SE (375px)
# - iPad (768px)
# - Desktop (1200px)

# 3. Check for horizontal scroll
# In DevTools mobile view, should have no horizontal scrollbar

# 4. Test touch interactions
# All buttons should have min 44x44px tap targets
```

## Manual Testing Checklist

Test on actual mobile device if possible:
- [ ] Home page loads and looks good
- [ ] Navigation hamburger menu works
- [ ] Agent cards display properly
- [ ] Job creation modal fits screen
- [ ] Payment flow works on mobile
- [ ] Results display properly
- [ ] All buttons tappable
- [ ] Forms usable (no iOS zoom issues)
- [ ] Loading spinners show during operations
- [ ] Toasts appear and dismiss correctly

## Success Criteria (Final)

All must be true:
- [ ] All pages responsive on mobile (320px+), tablet (768px+), desktop
- [ ] No horizontal scrolling on any screen size
- [ ] Loading spinners during all async operations
- [ ] Toast notifications for success/error
- [ ] Button states (loading, success, disabled, hover)
- [ ] Consistent spacing and typography
- [ ] Smooth transitions and animations
- [ ] Touch-friendly (min 44x44px targets)
- [ ] Respects accessibility preferences

</verification>

<success_criteria>

## Phase 8 Complete When:

### Functional Requirements ‚úÖ
1. **Mobile Responsiveness**:
   - Works on 320px+ (mobile), 768px+ (tablet), 1200px+ (desktop)
   - No horizontal scrolling
   - Hamburger menu for mobile navigation
   - Touch targets min 44x44px
   - Typography scales appropriately

2. **Loading States**:
   - Spinners during wallet connect, payment, job creation
   - Button loading states (spinner in button)
   - Loading overlay for full-page operations
   - Clear loading messages

3. **User Feedback**:
   - Toast notifications (success, error, info)
   - Auto-dismiss after 5 seconds
   - Manual close option
   - Multiple toasts stack properly

### Visual Requirements ‚úÖ
1. **Button States**:
   - Hover effects (transform, shadow)
   - Loading state (spinner, disabled)
   - Success state (checkmark, green)
   - Disabled state (opacity, cursor)
   - Ripple effect on click

2. **Consistency**:
   - Typography system (h1-h6, responsive)
   - Spacing utilities (mb-1 to mb-5)
   - Card styling uniform
   - Form styling uniform
   - Visual hierarchy clear

3. **Polish**:
   - Smooth transitions (0.2s)
   - Fade-in animations
   - Stagger animations for lists
   - Skeleton loading states
   - Respects reduced motion

### User Experience ‚úÖ
1. **Performance**:
   - Animations smooth (60fps)
   - No layout shift
   - Fast perceived performance
   - Minimal bundle size increase

2. **Accessibility**:
   - Focus styles visible
   - Keyboard navigation works
   - Skip to main content link
   - Reduced motion support
   - Touch-friendly targets

3. **Mobile Usability**:
   - No iOS input zoom (font-size: 16px+)
   - Grids stack properly
   - Navigation accessible
   - Forms usable on small screens

## Unblocks

Phase 8 completion unblocks:
- ‚úÖ **Phase 9**: Rate Limiting (UI ready for launch)
- ‚úÖ **Phase 12**: E2E Testing (UI can be tested)
- ‚úÖ **Public Demo**: UI presentable on all devices

## Not In Scope (Deferred)

These are explicitly NOT part of Phase 8:
- ‚ùå Dark/light theme toggle (already dark)
- ‚ùå Complex animations (parallax, 3D effects)
- ‚ùå CSS frameworks (Tailwind, Bootstrap)
- ‚ùå Build process or CSS preprocessing
- ‚ùå Progressive Web App (PWA) features
- ‚ùå Offline support
- ‚ùå Advanced touch gestures (swipe, pinch)

</success_criteria>

<output>

## Deliverables

### Code Files Modified
1. **src/hub.js** ‚Äî HUB_STYLES and HUB_SCRIPTS sections
   - Mobile responsive CSS (media queries for 768px, 480px)
   - Loading spinner CSS and functions
   - Toast notification system (CSS + JS)
   - Enhanced button states
   - Typography and spacing system
   - Smooth transitions and animations
   - ~400 lines of CSS added
   - ~150 lines of JS added

### User Experience Improvements
- Mobile-responsive on all screen sizes
- Loading feedback during operations
- Success/error toast notifications
- Better button interactions
- Consistent visual design
- Smooth animations and transitions

### Visual Enhancements
- Responsive typography
- Consistent spacing
- Professional button states
- Toast notifications
- Loading spinners
- Smooth transitions

## Files to Commit

```bash
# Task 1
git add src/hub.js
git commit -m "feat(08-01): add mobile responsive CSS with media queries

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 2
git add src/hub.js
git commit -m "feat(08-01): add loading spinners and button states

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 3
git add src/hub.js
git commit -m "feat(08-01): add toast notification system

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 4
git add src/hub.js
git commit -m "feat(08-01): improve button states and interactions

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 5
git add src/hub.js
git commit -m "feat(08-01): polish spacing, typography, and consistency

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 6
git add src/hub.js
git commit -m "feat(08-01): add smooth transitions and final UI polish

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
```

## Next Phase Preview

After Phase 8 completion, proceed to:

**Phase 9: Rate Limiting & Basic Ops**
- Install express-rate-limit
- Rate limit API endpoints (10 req/min per IP)
- Rate limit AI generation (5 req/min per wallet)
- Structured logging
- Graceful shutdown

**To start**: `/gsd:plan-phase 9`

</output>

---

**Estimated Time**: 2-3 hours
**Complexity**: Low-Medium (CSS/frontend work)
**Risk Level**: Low (no breaking changes)
**Dependencies**: Phase 7 complete

**Budget Impact**:
- Development: $0 (no API calls)
- Pure CSS/JS work (no external libraries)
- No performance degradation

**Critical Success Factor**: Must work on real mobile devices. Test on iPhone/Android if possible.

---

*Plan created: 2026-02-03*
*Phase: 8 of 13*
*Mode: YOLO (auto-execute)*
